{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","services/gallery-api.jsx","App.js","index.js"],"names":["module","exports","Searchbar","onSearch","className","s","SearchForm","onSubmit","e","preventDefault","target","elements","imageName","value","type","SearchForm_button","SearchForm_button_label","SearchForm_input","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","id","src","alt","ImageGalleryItem_image","ImageGallery","images","map","image","webformatURL","tags","fetchImages","a","axios","get","data","hits","Status","App","state","status","page","selectedImage","error","handleFormSubmit","setState","handleSelectImage","prevProps","prevState","this","length","toast","console","log","window","scrollTo","top","document","documentElement","scrollHeight","behavior","position","color","height","width","timeout","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.86db6894.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2os12\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1wYEs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__fk31u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__YCjnu\",\"SearchForm\":\"Searchbar_SearchForm__1A5zo\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2ITly\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__3jqUx\",\"SearchForm_input\":\"Searchbar_SearchForm_input__Zbzfi\"};","// import { Component } from 'react';\r\n// import toast, { Toaster } from 'react-hot-toast';\r\nimport s from './Searchbar.module.css';\r\n\r\nconst Searchbar = ({ onSearch }) => {\r\n\r\nconst handleSearch = e => {\r\n  e.preventDefault();\r\n  // console.log(e.target.elements.imageName.value);\r\n  onSearch(e.target.elements.imageName.value);\r\n  e.target.elements.imageName.value = ''\r\n}\r\n\r\n  return (\r\n    <div>\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={handleSearch}>\r\n          <button type=\"submit\" className={s.SearchForm_button}>\r\n            <span className={s.SearchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm_input}\r\n            type=\"text\"\r\n            name='imageName'\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n          {/* <Toaster /> */}\r\n        </form>\r\n      </header>\r\n    </div>\r\n  );\r\n};\r\n\r\n// class Searchbar extends Component {\r\n//     state = {\r\n//         value: '',\r\n//     }\r\n\r\n//   handleInputValue = e => {\r\n//         this.setState({ value: e.target.value.toLowerCase()})\r\n//     }\r\n\r\n//   handleSubmit = (e) => {\r\n//         e.preventDefault();\r\n\r\n//         if (this.state.value.trim() === '') {\r\n//             toast.error('Input picture`s name.')\r\n//             return;\r\n//         }\r\n//         this.props.onSearch(this.state.value);\r\n//         this.resetInput();\r\n//     }\r\n\r\n//   resetInput = () => {\r\n//     this.setState({ value: '' });\r\n// }\r\n\r\n//   render() {\r\n//     return (\r\n//       <div>\r\n//         <header className={s.Searchbar}>\r\n//           <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n//             <button type=\"submit\" className={s.SearchForm_button}>\r\n//               <span className={s.SearchForm_button_label}>Search</span>\r\n//             </button>\r\n\r\n//             <input\r\n//               className={s.SearchForm_input}\r\n//               type=\"text\"\r\n//               autoComplete=\"off\"\r\n//               autoFocus\r\n//               placeholder=\"Search images and photos\"\r\n//               onChange={this.handleInputValue}\r\n//             />\r\n//            <Toaster/>\r\n\r\n//           </form>\r\n//         </header>\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n\r\nexport default Searchbar;\r\n","import s from './ImageGalleryItem.module.css'\r\n\r\nfunction ImageGalleryItem({ id, src, alt }) {\r\n    return (\r\n        <li key={id} className={s.ImageGalleryItem}>\r\n          <img src={src} alt={alt} className={s.ImageGalleryItem_image} />\r\n        </li>\r\n    )\r\n\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\n\r\nconst ImageGallery = ({images}) => {\r\n    return (\r\n        <ul className={s.ImageGallery}>\r\n            {images.map(image => {\r\n                const { id, webformatURL, tags} = image;\r\n                return (\r\n                    <ImageGalleryItem key={id} src={webformatURL} alt={tags}/>\r\n            )})}\r\n        </ul>\r\n\r\n    )\r\n\r\n}\r\n\r\n// function ImageGallery({ images, onSelect }) {\r\n//     return (\r\n//         <ul className={s.ImageGallery}>\r\n//             {images && images.map(image => {\r\n//                 const { id, webformatURL, tags} = image;\r\n//                 return <ImageGalleryItem key={id} src={webformatURL} alt={tags} />\r\n//             })}\r\n            \r\n//         </ul>\r\n//     );\r\n// };\r\n\r\nexport default ImageGallery;","import axios from 'axios';\r\nconst API_KEY = '21768835-de3419a52772d349dcef7b4fc';\r\n\r\nconst fetchImages = async imageName => {\r\n  const {data}= await axios.get\r\n  ( `https://pixabay.com/api/?q=${imageName}&page=${1}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`);\r\n  return data.hits;\r\n}\r\n\r\nexport default fetchImages;\r\n\r\n// async function fetchImages(imageName, page) {\r\n//   const response = await axios.get(\r\n//     `https://pixabay.com/api/?q=${imageName}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n//   );\r\n//   if (response.status === 200) {\r\n//     return response.data.hits;\r\n//   }\r\n// }\r\n\r\n// const api = {\r\n//   fetchImages,\r\n// };\r\n\r\n// export default api;","import './App.css';\nimport { Component } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport Loader from \"react-loader-spinner\";\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n// import Modal from './components/Modal/Modal';\n// import Button from './components/Button/Button';\n// import api from './services/gallery-api';\n// import Loader from './components/Loader/Loader'\nimport fetchImages from './services/gallery-api';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\n\n\n\nclass App extends Component {\n  state = {\n    imageName: null,\n    images: [],\n    status: Status.IDLE,\n    page: 1,\n    selectedImage:null,\n    error: null,\n}\n\n\n\n\nasync componentDidUpdate(prevProps, prevState) {\n  const {imageName} =this.state;\n\n   if (prevState.imageName !== imageName) {\n     try {\n      const images = await fetchImages(imageName)\n\n      if (images.length === 0) {\n        toast.error(`Oops, we did not find such picture as ${imageName}`);\n      }\n      this.setState({status: Status.RESOLVED});\n      this.setState({images});\n     }\n     catch (error) {\n       this.setState({status: Status.REJECTED});\n       console.log(\"ErRoR\", error);\n     }}\n\n     window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n  \n\n  // componentDidUpdate(prevProps, prevState) {\n  //   const { status, imageName,images, page } = this.state;\n  //   if (status === Status.RESOLVED && images.length === 0) {\n  //       toast.error(`Oops, we did not find such picture as ${imageName}`);\n  //       this.setState({ status: Status.IDLE });\n  //   }\n\n  //   if (status === Status.PENDING) {\n  //       api\n  //       .fetchImages(imageName, page)\n  //       .then(newImages => this.setState(prevState => ({\n  //           images: [...prevState.images, ...newImages],\n  //           status: Status.RESOLVED,\n  //       })))\n  //       .catch(error => this.setState({ error, status: Status.REJECTED }));\n  //   }\n  // }\n\n  handleFormSubmit = imageName => {\n    this.setState({imageName});\n    this.setState({status: Status.PENDING})\n  }\n\n   \n\n  handleSelectImage = data => {\n    this.setState({ selectedImage: data, }); \n}\n\n  render() {\n    const {images,status} = this.state;\n    const {handleFormSubmit} = this\n    return (\n      <div className=\"App\">\n        <Searchbar onSearch={handleFormSubmit} />\n        <Toaster position=\"top-right\" />\n        <ImageGallery images={images}/>\n\n        {status === Status.PENDING && <Loader \n              className=\"Loader\"\n              type=\"Circles\"\n              color=\"#00BFFF\"\n              height={150}\n              width={150}\n              timeout={3000}\n        />}\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}