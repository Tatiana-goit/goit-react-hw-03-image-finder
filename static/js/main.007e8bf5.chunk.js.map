{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","services/gallery-api.jsx","App.js","index.js"],"names":["module","exports","Searchbar","state","value","handleInputValue","e","setState","target","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","resetInput","toast","error","className","s","SearchForm","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autocomplete","autofocus","placeholder","onChange","Component","ImageGalleryItem","id","src","alt","onClick","onCkick","onclick","ImageGalleryItem_image","ImageGallery","images","onSelect","map","image","webformatURL","tags","API_KEY","imageName","page","a","axios","get","response","status","data","hits","api","fetchImages","Status","App","selectedImage","searchbarInputValueHandler","handleSelectImage","prevProps","prevState","length","then","newImages","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.007e8bf5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2os12\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1wYEs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__fk31u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__YCjnu\",\"SearchForm\":\"Searchbar_SearchForm__1A5zo\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2ITly\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__3jqUx\",\"SearchForm_input\":\"Searchbar_SearchForm_input__Zbzfi\"};","import { Component } from 'react';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        value: '',\r\n    }\r\n\r\n\r\n  handleInputValue = e => {\r\n        this.setState({ value: e.target.value.toLowerCase()})\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        \r\n        if (this.state.value.trim() === '') {\r\n            toast.error('Input picture`s name.')\r\n            return;\r\n        }\r\n        this.props.onSubmit(this.state.value);\r\n        this.resetInput();\r\n    }\r\n\r\n  resetInput = () => {\r\n    this.setState({ value: '' });\r\n}\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className={s.SearchForm_button}>\r\n              <span className={s.SearchForm_button_label}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className={s.SearchForm_input}\r\n              type=\"text\"\r\n              autocomplete=\"off\"\r\n              autofocus\r\n              placeholder=\"Search images and photos\"\r\n              onChange={this.handleInputValue}\r\n            />\r\n           <Toaster/>\r\n\r\n          </form>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import s from './ImageGalleryItem.module.css'\r\n\r\nfunction ImageGalleryItem({ id, src, alt, onClick }) {\r\n    return (\r\n        <li className={s.ImageGalleryItem}>\r\n          <img key={id} src={src} alt={alt}  onCkick={onclick} className={s.ImageGalleryItem_image} />\r\n        </li>\r\n    )\r\n\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nfunction ImageGallery({ images, onSelect }) {\r\n    return (\r\n        <ul className={s.ImageGallery}>\r\n            {images && images.map(image => {\r\n                const { id, webformatURL, tags} = image;\r\n                return <ImageGalleryItem key={id} src={webformatURL} alt={tags} onClick={() => onSelect(image)} />\r\n            })}\r\n            \r\n        </ul>\r\n    );\r\n};\r\n\r\nexport default ImageGallery;","import axios from 'axios';\r\nconst API_KEY = '21768835-de3419a52772d349dcef7b4fc';\r\n\r\nasync function fetchImages(imageName, page) {\r\n  const response = await axios.get(\r\n    `https://pixabay.com/api/?q=${imageName}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n  if (response.status === 200) {\r\n    return response.data.hits;\r\n  }\r\n}\r\n\r\nconst api = {\r\n  fetchImages,\r\n};\r\n\r\nexport default api;","import './App.css';\nimport { Component } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n// import Modal from './components/Modal/Modal';\n// import Button from './components/Button/Button';\nimport api from './services/gallery-api';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass App extends Component {\n  state = {\n    imageName: null,\n    images: [],\n    page: 1,\n    selectedImage:null,\n    status: Status.IDLE,\n    error: null,\n}\n\n  componentDidUpdate(prevProps, prevState) {\n    const { status, imageName,images, page } = this.state;\n    if (status === Status.RESOLVED && images.length === 0) {\n        toast.error(`Oops, we did not find such picture as ${imageName}`);\n        this.setState({ status: Status.IDLE });\n    }\n\n    if (status === Status.PENDING) {\n        api\n        .fetchImages(imageName, page)\n        .then(newImages => this.setState(prevState => ({\n            images: [...prevState.images, ...newImages],\n            status: Status.RESOLVED,\n        })))\n        .catch(error => this.setState({ error, status: Status.REJECTED }));\n    }\n\n  }\n\n  searchbarInputValueHandler = value => {\n    if (value.trim() !== '') {\n      this.setState({\n        imageName: value,\n        status: Status.PENDING,\n      });\n    }\n\n    if (this.state.imageName !== value) {\n      this.setState({\n        images: [],\n        page: 1,\n      });\n    }\n  };\n\n  handleSelectImage = data => {\n    this.setState({ selectedImage: data, });  \n}\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onClick={this.searchbarInputValueHandler} />\n        <Toaster />\n        <ImageGallery images={this.state.images} onSelect={this.handleSelectImage}/>\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}