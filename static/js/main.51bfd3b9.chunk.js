(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{13:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2os12",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__1wYEs"}},14:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1lHxJ",Modal:"Modal_Modal__3i3FZ"}},26:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__fk31u"}},27:function(e,t,a){e.exports={Button:"Button_Button__1c3eN"}},31:function(e,t,a){e.exports={Loader:"Loader_Loader__14hQ3"}},36:function(e,t,a){},37:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__YCjnu",SearchForm:"Searchbar_SearchForm__1A5zo",SearchForm_button:"Searchbar_SearchForm_button__2ITly",SearchForm_button_label:"Searchbar_SearchForm_button_label__3jqUx",SearchForm_input:"Searchbar_SearchForm_input__Zbzfi"}},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),s=(a(36),a(16)),i=a(8),l=a(9),u=a(11),m=a(10),d=(a(37),a(17)),h=a(4),g=a.n(h),p=a(1),b=function(e){var t=e.onSearch;return Object(p.jsx)("div",{children:Object(p.jsx)("header",{className:g.a.Searchbar,children:Object(p.jsxs)("form",{className:g.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(e.target.elements.imageName.value),e.target.elements.imageName.value=""},children:[Object(p.jsx)("button",{type:"submit",className:g.a.SearchForm_button,children:Object(p.jsx)("span",{className:g.a.SearchForm_button_label,children:"Search"})}),Object(p.jsx)("input",{className:g.a.SearchForm_input,type:"text",name:"imageName",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})})},j=a(13),f=a.n(j);var _=function(e){var t=e.id,a=e.src,n=e.alt,r=e.image,o=e.onClickModal;return Object(p.jsx)("li",{className:f.a.ImageGalleryItem,children:Object(p.jsx)("img",{className:f.a.ImageGalleryItem_image,src:a,alt:n,onClick:function(){o(r)}})},t)},O=a(26),v=a.n(O),x=function(e){var t=e.images,a=e.onModal;return Object(p.jsx)("ul",{className:v.a.ImageGallery,children:t.map((function(e){return Object(p.jsx)(_,{id:e.id,src:e.webformatURL,alt:e.tags,image:e,onClickModal:a})}))})},y=a(14),S=a.n(y),I=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleEscape=function(t){"Escape"===t.code&&e.props.onModal()},e.handleClose=function(t){t.currentTarget===t.target&&e.props.onModal()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleEscape)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleEscape)}},{key:"render",value:function(){var e=this.props.children;return Object(o.createPortal)(Object(p.jsx)("div",{className:S.a.Overlay,onClick:this.handleClose,children:Object(p.jsx)("div",{className:S.a.Modal,children:e})}),document.getElementById("modalRoot"))}}]),a}(n.Component),k=I,w=a(27),M=a.n(w);var N=function(e){var t=e.onClick;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("button",{type:"button",onClick:t,className:M.a.Button,children:"Load more"})})},F=a(15),C=a.n(F),G=a(28),L=a(29),E=a.n(L),B="21768835-de3419a52772d349dcef7b4fc";function U(){return(U=Object(G.a)(C.a.mark((function e(t,a){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://pixabay.com/api/?q=".concat(t,"&page=").concat(a,"&key=").concat(B,"&image_type=photo&orientation=horizontal&per_page=12"));case 2:if(200!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data.hits);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A={fetchImages:function(e,t){return U.apply(this,arguments)}},z=A,D=a(30),J=a.n(D),R=a(31),T=a.n(R),q=function(){return Object(p.jsx)("div",{className:T.a.Loader,children:Object(p.jsx)(J.a,{type:"Circles",color:"#00BFFF",height:150,width:150,timeout:3e3})})},H="idle",Y="pending",Z="resolved",P="rejected",Q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={imageName:null,images:[],status:H,page:1,selectedImage:null,error:null,showModal:!1},e.handleFormSubmit=function(t){""!==t.trim()&&(e.setState({status:Y}),e.setState({imageName:t})),e.state.imageName!==t&&e.setState({images:[],page:1})},e.toggleModal=function(){e.setState({showModal:!e.state.showModal})},e.clickImages=function(t){e.setState({selectedImage:t}),e.toggleModal()},e.handleLoadMoreBtnClick=function(){e.setState((function(e){return{page:e.page+1,status:Y}}))},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,r=n.status,o=n.imageName,c=n.images,i=n.page;r===Z&&0===c.length&&(d.b.error("Oops, we did not find such picture as ".concat(o)),this.setState({status:H})),r===Y&&z.fetchImages(o,i).then((function(e){return a.setState((function(t){return{images:[].concat(Object(s.a)(t.images),Object(s.a)(e)),status:Z}}))})).catch((function(e){return a.setState({error:e,status:P})})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.status,n=e.showModal,r=e.selectedImage,o=this.handleFormSubmit,c=this.clickImages,s=this.toggleModal,i=this.handleLoadMoreBtnClick;return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(b,{onSearch:o}),Object(p.jsx)(d.a,{position:"top-right"}),Object(p.jsx)(x,{images:t,onModal:c}),a===Z&&Object(p.jsx)(N,{type:"button",onClick:i,children:"Load more"}),n&&Object(p.jsx)(k,{onModal:s,children:Object(p.jsx)("img",{src:r.largeImageURL,alt:r.tags})}),a===Y&&Object(p.jsx)(q,{})]})}}]),a}(n.Component),W=Q;c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(W,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.51bfd3b9.chunk.js.map