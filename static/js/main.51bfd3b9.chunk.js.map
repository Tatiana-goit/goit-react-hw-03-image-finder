{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","services/gallery-api.jsx","components/Loader/Loader.jsx","App.js","index.js"],"names":["module","exports","Searchbar","onSearch","className","s","SearchForm","onSubmit","e","preventDefault","target","elements","imageName","value","type","SearchForm_button","SearchForm_button_label","SearchForm_input","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","id","src","alt","image","onClickModal","ImageGalleryItem_image","onClick","ImageGallery","images","onModal","map","webformatURL","tags","Modal","handleEscape","code","props","handleClose","currentTarget","window","addEventListener","this","removeEventListener","children","createPortal","Overlay","document","getElementById","Component","Button","API_KEY","page","a","axios","get","response","status","data","hits","api","fetchImages","LoaderSpinner","Loader","color","height","width","timeout","Status","App","state","selectedImage","error","showModal","handleFormSubmit","trim","setState","toggleModal","clickImages","handleLoadMoreBtnClick","prevState","prevProps","length","toast","then","newImages","catch","scrollTo","top","documentElement","scrollHeight","behavior","position","largeImageURL","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.51bfd3b9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2os12\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__1wYEs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1lHxJ\",\"Modal\":\"Modal_Modal__3i3FZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__fk31u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1c3eN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__14hQ3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__YCjnu\",\"SearchForm\":\"Searchbar_SearchForm__1A5zo\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2ITly\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__3jqUx\",\"SearchForm_input\":\"Searchbar_SearchForm_input__Zbzfi\"};","// import {Component} from 'react';\r\n// import toast, { Toaster } from 'react-hot-toast';\r\nimport s from './Searchbar.module.css';\r\n\r\nconst Searchbar = ({ onSearch }) => {\r\n\r\nconst handleSearch = e => {\r\n  e.preventDefault();\r\n  onSearch(e.target.elements.imageName.value);\r\n  e.target.elements.imageName.value = ''\r\n}\r\n\r\n  return (\r\n    <div>\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={handleSearch}>\r\n          <button type=\"submit\" className={s.SearchForm_button}>\r\n            <span className={s.SearchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm_input}\r\n            type=\"text\"\r\n            name='imageName'\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    </div>\r\n  );\r\n};\r\n\r\n// class Searchbar extends Component {\r\n//     state = {\r\n//         value: '',\r\n//     }\r\n\r\n//   handleInputValue = e => {\r\n//         this.setState({ value: e.target.value.toLowerCase()})\r\n//     }\r\n\r\n//   handleSubmit = (e) => {\r\n//         e.preventDefault();\r\n\r\n//         if (this.state.value.trim() === '') {\r\n//             toast.error('Input picture`s name.')\r\n//             return;\r\n//         }\r\n//         this.props.onSearch(this.state.value);\r\n//         this.resetInput();\r\n//     }\r\n\r\n//   resetInput = () => {\r\n//     this.setState({ value: '' });\r\n// }\r\n\r\n//   render() {\r\n//     return (\r\n//       <div>\r\n//         <header className={s.Searchbar}>\r\n//           <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n//             <button type=\"submit\" className={s.SearchForm_button}>\r\n//               <span className={s.SearchForm_button_label}>Search</span>\r\n//             </button>\r\n\r\n//             <input\r\n//               className={s.SearchForm_input}\r\n//               type=\"text\"\r\n//               autoComplete=\"off\"\r\n//               autoFocus\r\n//               placeholder=\"Search images and photos\"\r\n//               onChange={this.handleInputValue}\r\n//             />\r\n//            <Toaster/>\r\n\r\n//           </form>\r\n//         </header>\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n\r\nexport default Searchbar;\r\n","import s from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ id,  src, alt, image, onClickModal }) {\r\n  return (\r\n    <li key={id} className={s.ImageGalleryItem}>\r\n      <img \r\n        className={s.ImageGalleryItem_image}\r\n        src={src}\r\n        alt={alt}\r\n        onClick={() => {onClickModal(image);}}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images, onModal }) => {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {images.map(image => {\r\n        return (\r\n          <ImageGalleryItem\r\n            id={image.id}\r\n            src={image.webformatURL}\r\n            alt={image.tags}\r\n            image={image}\r\n            onClickModal={onModal}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\n// function ImageGallery({ images, onSelect }) {\r\n//     return (\r\n//         <ul className={s.ImageGallery}>\r\n//             {images && images.map(image => {\r\n//                 const { id, webformatURL, tags} = image;\r\n//                 return <ImageGalleryItem key={id} src={webformatURL} alt={tags} />\r\n//             })}\r\n\r\n//         </ul>\r\n//     );\r\n// };\r\n\r\nexport default ImageGallery;\r\n","import {Component} from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleEscape);\r\n      }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleEscape);\r\n      }\r\n    \r\n    handleEscape = e => {\r\n        let condition = e.code === 'Escape';\r\n        if (condition) {\r\n          this.props.onModal();\r\n        }\r\n      };\r\n\r\n\r\n    handleClose = e => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.onModal();\r\n        }\r\n    }\r\n\r\n    render () {\r\n        const {children} = this.props;\r\n        return (\r\n            createPortal(\r\n                <div className={s.Overlay} onClick={this.handleClose}>\r\n                <div className={s.Modal}>{children}</div>\r\n              </div>,\r\n              document.getElementById('modalRoot'),\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nexport default Modal;","import s from './Button.module.css';\r\n\r\nfunction Button({ onClick }) {\r\n    return (\r\n        <>\r\n            <button type=\"button\" onClick={onClick} className={s.Button}>\r\n                Load more\r\n            </button>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Button;","import axios from 'axios';\r\nconst API_KEY = '21768835-de3419a52772d349dcef7b4fc';\r\n\r\n// const fetchImages = async imageName => {\r\n//   const {data}= await axios.get\r\n//   ( `https://pixabay.com/api/?q=${imageName}&page=${1}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`);\r\n//   return data.hits;\r\n// }\r\n\r\n// export default fetchImages;\r\n\r\nasync function fetchImages(imageName, page) {\r\n  const response = await axios.get(\r\n    `https://pixabay.com/api/?q=${imageName}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n  if (response.status === 200) {\r\n    return response.data.hits;\r\n  }\r\n}\r\n\r\nconst api = {\r\n  fetchImages,\r\n};\r\n\r\nexport default api;","import Loader from 'react-loader-spinner';\r\nimport s from './Loader.module.css';\r\n\r\nconst LoaderSpinner = () => {\r\n  return (\r\n    <div className={s.Loader}>\r\n      <Loader\r\n        type=\"Circles\"\r\n        color=\"#00BFFF\"\r\n        height={150}\r\n        width={150}\r\n        timeout={3000} \r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoaderSpinner;\r\n","import './App.css';\nimport { Component } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from './components/Modal/Modal';\nimport Button from './components/Button/Button';\nimport api from './services/gallery-api';\nimport Loader from './components/Loader/Loader';\n// import fetchImages from './services/gallery-api';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass App extends Component {\n  state = {\n    imageName: null,\n    images: [],\n    status: Status.IDLE,\n    page: 1,\n    selectedImage: null,\n    error: null,\n    showModal: false,\n  };\n\n  // async componentDidUpdate(prevProps, prevState) {\n  //   const { imageName } = this.state;\n\n  //   if (prevState.imageName !== imageName) {\n  //     try {\n  //       const images = await fetchImages(imageName);\n\n  //       if (images.length === 0) {\n  //         toast.error(`Oops, we did not find such picture as ${imageName}`);\n  //       }\n\n\n  //       this.setState({ status: Status.RESOLVED });\n  //       // this.setState({ images });\n  //       this.setState(prevState => ({images: [...prevState.images, ...images],\n  //         page: prevState.page + 1,}));\n        \n  //     } catch (error) {\n  //       this.setState({ status: Status.REJECTED });\n  //       console.log('ErRoR', error);\n  //     }\n  //   }\n\n  //   window.scrollTo({\n  //     top: document.documentElement.scrollHeight,\n  //     behavior: 'smooth',\n  //   });\n  // }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { status, imageName,images, page } = this.state;\n    if (status === Status.RESOLVED && images.length === 0) {\n        toast.error(`Oops, we did not find such picture as ${imageName}`);\n        this.setState({ status: Status.IDLE });\n    }\n\n    if (status === Status.PENDING) {\n        api\n        .fetchImages(imageName, page)\n        .then(newImages => this.setState(prevState => ({\n            images: [...prevState.images, ...newImages],\n            status: Status.RESOLVED,\n        })))\n        .catch(error => this.setState({ error, status: Status.REJECTED }));\n    }\n\n    window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n    });\n}\n\n  handleFormSubmit = imageName => {\n    // this.setState({ imageName });\n    // this.setState({ status: Status.PENDING });\n\n    if (imageName.trim() !== '') {\n      this.setState({status: Status.PENDING})\n        this.setState({imageName})\n  }\n\n  if (this.state.imageName !== imageName) {\n      this.setState({\n          images: [],\n          page: 1,\n      })\n   }\n  }\n\n\n// handleFormSubmit = (value) => {\n//   if (value.trim() !== '') {\n//       this.setState({\n//           imageName: value,\n//           status: Status.PENDING,\n//       })\n//   }\n\n//   if (this.state.imageName !== value) {\n//       this.setState({\n//           images: [],\n//           page: 1,\n//       })\n          \n//   }\n// }\n\n  toggleModal = () => {\n    this.setState({ showModal: !this.state.showModal });\n  };\n\n  clickImages = selectedImage => {\n    this.setState({ selectedImage });\n    this.toggleModal();\n  };\n\n  handleLoadMoreBtnClick = () => {\n    this.setState(prevState => ({\n        page: prevState.page + 1,\n        status: Status.PENDING,\n    }))\n}\n\n  render() {\n    const { images, status, showModal, selectedImage} = this.state;\n    const { handleFormSubmit, clickImages, toggleModal, handleLoadMoreBtnClick} = this;\n    return (\n      <div className=\"App\">\n        <Searchbar onSearch={handleFormSubmit} />\n        <Toaster position=\"top-right\" />\n        <ImageGallery images={images} onModal={clickImages} />\n        {status === Status.RESOLVED && (\n          <Button type=\"button\" onClick={handleLoadMoreBtnClick}>\n            Load more\n          </Button>\n        )}\n\n        {showModal && (\n          <Modal onModal={toggleModal}>\n            <img src={selectedImage.largeImageURL} alt={selectedImage.tags} />\n          </Modal>\n        )}\n\n        {status === Status.PENDING && <Loader />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}